<?xml version="1.0" encoding="utf-8"?>
<odoo>
    
    <!-- tree view          -->
    <record id="um_department_migration_view_record" model="ir.ui.view">
        <field name="name">department.migration.tree</field>
        <field name="model">department.migration</field>
        <field name="arch" type="xml">
            <tree > 
                <field name="name" decoration-success="1==1"/>
                <field name="student_id" string='Past ID' decoration-primary="1==1"/>
                <field name="student_new_id" string='New ID' decoration-warning="1==1"/>
                <field name="accepted_department" decoration-info="1==1" string="New Department"/>
                <field name="previous_department" decoration-info="1==1"/>
                <!-- <field name="migration_date" decoration-warning="1==1"/> -->
                <field name="registration_status" string='Status' widget="badge" decoration-success="registration_status == 'Enrolled'" decoration-warning="registration_status=='Reviewing'" decoration-info="registration_status == 'Draft'"/>

            </tree>
        </field>
    </record>   


    
    
    
    <!-- kanban view  -->

    <record id="um_student_migration_kanban_view" model="ir.ui.view">
        <field name="name">department.migration.kanban</field>
        <field name="model">department.migration</field>
        <field name="arch" type="xml">
            <kanban>

                <field name="name"/>
                <field name="student_new_id"/>
                <field name="accepted_faculty"/>
                <field name="accepted_department"/>
                <field name="previous_faculty"/>
                <field name="previous_department"/>
                <field name="image"/>
                <field name="email"/>

                <templates>

                    <t t-name="kanban-box">
                        <div t-attf-class="oe_kanban_content oe_kanban_global_click o_kanban_record_has_image_fill  ">
                            
                            <!-- <div class="oe_kanban_image"> -->
                            <field name="image" class="o_kanban_image_fill_left d-block oe_kanban_avatar" preview_image="image" widget="background_image" options="{'zoom': true, 'zoom_delay': 1000}"/>
                        <!-- </div> -->
                        
                        <div class="card d-flex flex-column justify-content-center" style="">
                            

                            <div class="card-header" style="margin:0; padding-left:1; padding-right:1; padding-top:0; padding-bottom:0;">
                                <h5 class="card-title" style="margin-bottom:0; padding:0; color: #009688; "><field name="name"/></h5>
                                <p class="card-text" style="margin-bottom:0; padding:0; color: #728C00;"><strong>ID:</strong> <field name="student_new_id"/></p>
                            </div>
                            
                            <!-- <div class="card d-flex flex-row justify-content-center" style="margin-bottom:0; padding-bottom:0">
                                <div class="card-body ">
                                    <p class="card-text oe_kanban_total_cost"><strong>Due Fee:</strong> <field name="total_cost"/></p>
                                    <p class="card-text oe_kanban_total_cost"><strong>Due Date:</strong> <field name="due_date"/></p>
                                </div>
                                <div class="card-body ">
                                    <p class="card-text"><strong>Faculty:</strong> <field name="accepted_faculty"/></p>
                                    <p class="card-text"><strong>Department:</strong> <field name="accepted_department"/></p>
                                </div>
                            </div> -->

                            <div class="card-body " style="margin:0; padding-left:1; padding-right:1; padding-top:1px; padding-bottom:0; background-color: #e0e0e0; ">
                                <p class="card-text" style="margin-bottom:0; padding:0; color: #007bff;"><strong>Faculty:</strong> <field name="accepted_faculty"/></p>
                                <p class="card-text" style="margin-bottom:0; padding:0; color: #007bff;"><strong>Department:</strong> <field name="accepted_department"/></p>
                            </div>

                            <div class="card-footer text-muted " style="margin:0; padding-left:1; padding-right:1; padding-top:1px; padding-bottom:0;">
                                <p class="card-text" style="margin-bottom:0; padding:0; color: #007bff;"><strong>Past Dep.:</strong> <field name="previous_department"/></p>
                                <p class="card-text" style="margin-bottom:0; padding:0; color: #36013F;"><strong>Email:</strong> <field name="email"/></p>
                                <!-- <p class="card-text" style="margin-bottom:0; padding:0; color:#7E354D;"><strong>Contact:</strong> <field name="contact_number"/></p> -->
                            </div>
           




                        </div>


                        </div>
                    </t>
            
            
                </templates>

            
            </kanban>

        </field>
    </record>














    <!-- form view  -->
    <record id="um_department_migration_form_view_record" model="ir.ui.view">
        <field name="name">department.migration.form</field>
        <field name="model">department.migration</field>
         <field name="arch" type="xml">
            <form> 
                
                <header>
                    <button string="Create Invoice" type="object"  name="create_invoice" context="{'active_id': active_id}" 
                    class="oe_highlight" attrs="{'invisible': [('invoice_status', '!=', 'to invoice')]}" /> 
                    
                    <field name="registration_status" widget="statusbar" statusbar_visible="Draft,Reviewing,Enrolled"/>
                </header>


                <sheet>
                    <widget name="web_ribbon" title="MIGRATION CONFIRM" attrs="{'invisible': [('registration_status', '!=', 'Enrolled')]}"/>
                


                    <group >
                        <group >
                            <field style="font-size: 14px; color: #336699; background-color: #f0f0f0;" name="reg_id" string='Reg. No' placeholder="Student registration id"  options="{'no_create':True}" />
                            <field name="name" readonly='1' style="font-size: 14px; color: #336699; background-color: #f0f0f0;"/>
                            <field name="student_id" readonly='1' string='ID No' style="font-size: 14px; color: #336699; background-color: #f0f0f0;"/>
                            <field name="email" readonly='1' style="font-size: 14px; color: #336699; background-color: #f0f0f0;"/>
                            <field name="due" readonly='1' style="font-size: 14px; color: #336699; background-color: #f0f0f0;"/>
                            <field name="student_new_id" readonly='1' string='New ID' style="font-size: 14px; color: #336699; background-color: #f0f0f0;"/>
                            <!-- <field name='migration_date' string='Date'/>  -->
                        </group>
                        <group>
                            <field name="image" widget="image" class="oe_left oe_avatar oe_small_image img-fluid"/>
                            <field name="admission_date" readonly='1' style="font-size: 14px; color: #336699; background-color: #f0f0f0;"/>
                            <field name="previous_faculty" readonly='1' widget="upper" style="font-size: 14px; color: #336699; background-color: #f0f0f0;"/>
                            <field name="previous_department" readonly='1' widget="upper" options='{"uppercase": true}' style="font-size: 14px; color: #336699; background-color: #f0f0f0;"/>
                            <field name='invoice_status' invisible='1'/>
                        </group>
                    </group>

                

                    <group>
                        <group string='Choose Faculty'>
                            <field name="faculty_choice" style="font-size: 14px; color: #336699; background-color: #f0f0f0;"/>
                        </group>

                        <group string="Choose Department"> 
                            <field name="e_departments_choice" style="font-size: 14px; color: #336699; background-color: #f0f0f0;"  placeholder="Select Department" options="{'no_create':True}" attrs="{'invisible':[('faculty_choice', '!=', 'engineering')]}"/>
                            <field name="b_departments_choice" style="font-size: 14px; color: #336699; background-color: #f0f0f0;" placeholder="Select Department" options="{'no_create':True}" attrs="{'invisible':[('faculty_choice', '!=', 'business')]}"/>
                            <field name="arts_departments_choice" style="font-size: 14px; color: #336699; background-color: #f0f0f0;" placeholder="Select Department" options="{'no_create':True}" attrs="{'invisible':[('faculty_choice', '!=', 'arts')]}"/>
                        </group>
                        
                    </group>
                    
                    <group string="Congress!! Your are Selected" attrs="{'invisible':[('congres_group', '==', 'not_confirm')]}">
                        <group> 
                            <field name="accepted_faculty" style="font-size: 14px; color: #336699; background-color: #f0f0f0;" string="Your Faculty"/>
                            <field name="is_admitted" style="font-size: 14px; color: #336699; background-color: #f0f0f0;" invisible="1"/>
                        </group>

                        <group>
                            <field name="accepted_department" style="font-size: 14px; color: #336699; background-color: #f0f0f0;" string="Your Department"/>
                            <field name="congres_group" style="font-size: 14px; color: #336699; background-color: #f0f0f0;" invisible="1"/>
                        </group>

                    </group>


                    <separator/>

                    <group col="3"> 
                        <group> 
                            <button string="Check Department" type="object" name="check_department" class="oe_highlight"/>
                        </group>
                        <group attrs="{'invisible':[('congres_group', '==', 'not_confirm')]}"> 
                            <button string="Confirm Department" type="object" name="department_confirmation" class="oe_highlight"/>
                        </group>
                        <group attrs="{'invisible':[('is_admitted', '==', False)]}"> 
                            <button string="Course Select" type="object" name="course_selection_method" class="oe_highlight"/>
                        </group>
                    </group>
                    



                </sheet>
            </form>
        </field>
    </record>  



    <!-- Action to open the  view -->
    <record id="um_department_migration_view_recored_ids" model="ir.actions.act_window">
        <field name="name">department.migration.view</field>
        <field name="res_model">department.migration</field>
        <field name="view_mode">tree,kanban,form</field>
    </record>

    <!-- <menuitem  id="um_department_migration_view__info_menu" name="Migration" action="um_department_migration_view_recored_id"/> -->



     <!-- pop up window for register payment in student.account  -->
     <record id="um_department_migration_course_select" model="ir.ui.view">
        <field name="name">department.migration.form</field>
        <field name="model">department.migration</field>
        <field name="arch" type="xml">
        <form string="Course Selection">
        
            <sheet>

                <group string="Student Information">
                    <group>
                        <field name="name" readonly='1' style="font-size: 14px; color: #336699; background-color: #f0f0f0;"/>
                        <field name="student_new_id" readonly='1' style="font-size: 14px; color: #336699; background-color: #f0f0f0;"/>
                    </group>
                    <group>
                        <field name="accepted_faculty" string="Faculty" readonly='1' style="font-size: 14px; color: #336699; background-color: #f0f0f0;"/>
                        <field name="accepted_department" string="Department" readonly='1' style="font-size: 14px; color: #336699; background-color: #f0f0f0;"/>
                    </group>
                </group>        
                
                <group string="Course Selection Panel">
                    <field name="course_ids" display_name='True' widget="many2many_tags" options="{'no_create':True}" string="select course"/>
                    
                </group>

                <notebook>
                    <page string="Selected Courses">
                        <group>
                            <field name='course_ids' options="{'no_create': True, 'create': false}" string=""/>
                        
                        </group>

                        <group col="2">
                            <group></group>
                            <group><field name='course_cost' string='Total Cost' style="font-size: 14px; color: #336699; background-color: #f0f0f0;"/> </group>
                        </group>


                    </page>


                </notebook>


            </sheet>
            
           


        <footer>
            <button string="Confirm" name="confirm_course_selection" type="object" class="oe_highlight" data-hotkey="q"/>
            <button string="Cancel" class="btn btn-secondary" special="cancel" data-hotkey="z"/>
        </footer>


        

</form> 
</field>
</record> 






</odoo>
