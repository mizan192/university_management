<?xml version="1.0" encoding="utf-8"?>
<odoo>
    
    <!-- tree view          -->
    <record id="um_department_migration_view_record" model="ir.ui.view">
        <field name="name">department.migration.tree</field>
        <field name="model">department.migration</field>
        <field name="arch" type="xml">
            <tree > 
                <field name="name"/>
                <field name="student_id" string='Past ID'/>
                <field name="student_new_id" string='New ID'/>
                <field name="previous_faculty"/>
                <field name="previous_department"/>
            </tree>
        </field>
    </record>   

    <record id="um_department_migration_form_view_record" model="ir.ui.view">
        <field name="name">department.migration.form</field>
        <field name="model">department.migration</field>
         <field name="arch" type="xml">
            <form> 
                
                <header>
                    <button string="Create Invoice" type="object"  name="create_invoice" context="{'active_id': active_id}" 
                    class="oe_highlight" attrs="{'invisible': [('invoice_status', '!=', 'to invoice')]}" /> 
                    
                    <field name="registration_status" widget="statusbar" statusbar_visible="Draft,Reviewing,Enrolled"/>
                </header>


                <sheet>
                    <widget name="web_ribbon" title="MIGRATION CONFIRM" attrs="{'invisible': [('registration_status', '!=', 'Enrolled')]}"/>
                


                    <group >
                        <group >
                            <field style="font-size: 14px; color: #336699; background-color: #f0f0f0;" name="reg_id" string='Reg. No' placeholder="Student registration id"  options="{'no_create':True}" />
                            <field name="name" readonly='1' style="font-size: 14px; color: #336699; background-color: #f0f0f0;"/>
                            <field name="student_id" readonly='1' string='ID No' style="font-size: 14px; color: #336699; background-color: #f0f0f0;"/>
                            <field name="email" readonly='1' style="font-size: 14px; color: #336699; background-color: #f0f0f0;"/>
                            <field name="due" readonly='1' style="font-size: 14px; color: #336699; background-color: #f0f0f0;"/>
                            <field name="student_new_id" readonly='1' string='New ID' style="font-size: 14px; color: #336699; background-color: #f0f0f0;"/>
                        </group>
                        <group>
                            <field name="image" widget="image" class="oe_left oe_avatar oe_small_image img-fluid"/>
                            <field name="admission_date" readonly='1' style="font-size: 14px; color: #336699; background-color: #f0f0f0;"/>
                            <field name="previous_faculty" readonly='1' widget="upper" style="font-size: 14px; color: #336699; background-color: #f0f0f0;"/>
                            <field name="previous_department" readonly='1' widget="upper" options='{"uppercase": true}' style="font-size: 14px; color: #336699; background-color: #f0f0f0;"/>
                            <field name='invoice_status' invisible='1'/>
                        </group>
                    </group>

                

                    <group>
                        <group string='Choose Faculty'>
                            <field name="faculty_choice" style="font-size: 14px; color: #336699; background-color: #f0f0f0;"/>
                        </group>

                        <group string="Choose Department"> 
                            <field name="e_departments_choice" style="font-size: 14px; color: #336699; background-color: #f0f0f0;"  placeholder="Select Department" options="{'no_create':True}" attrs="{'invisible':[('faculty_choice', '!=', 'engineering')]}"/>
                            <field name="b_departments_choice" style="font-size: 14px; color: #336699; background-color: #f0f0f0;" placeholder="Select Department" options="{'no_create':True}" attrs="{'invisible':[('faculty_choice', '!=', 'business')]}"/>
                            <field name="arts_departments_choice" style="font-size: 14px; color: #336699; background-color: #f0f0f0;" placeholder="Select Department" options="{'no_create':True}" attrs="{'invisible':[('faculty_choice', '!=', 'arts')]}"/>
                        </group>
                        
                    </group>
                    
                    <group string="Congress!! Your are Selected" attrs="{'invisible':[('congres_group', '==', 'not_confirm')]}">
                        <group> 
                            <field name="accepted_faculty" style="font-size: 14px; color: #336699; background-color: #f0f0f0;" string="Your Faculty"/>
                            <field name="is_admitted" style="font-size: 14px; color: #336699; background-color: #f0f0f0;" invisible="1"/>
                        </group>

                        <group>
                            <field name="accepted_department" style="font-size: 14px; color: #336699; background-color: #f0f0f0;" string="Your Department"/>
                            <field name="congres_group" style="font-size: 14px; color: #336699; background-color: #f0f0f0;" invisible="1"/>
                        </group>

                    </group>


                    <separator/>

                    <group col="3"> 
                        <group> 
                            <button string="Check Department" type="object" name="check_department" class="oe_highlight"/>
                        </group>
                        <group attrs="{'invisible':[('congres_group', '==', 'not_confirm')]}"> 
                            <button string="Confirm Department" type="object" name="department_confirmation" class="oe_highlight"/>
                        </group>
                        <group attrs="{'invisible':[('is_admitted', '==', False)]}"> 
                            <button string="Course Select" type="object" name="course_selection_method" class="oe_highlight"/>
                        </group>
                    </group>
                    



                </sheet>
            </form>
        </field>
    </record>  



    <!-- Action to open the tree view -->
    <record id="um_department_migration_view_recored_ids" model="ir.actions.act_window">
        <field name="name">department.migration.view</field>
        <field name="res_model">department.migration</field>
        <field name="view_mode">tree,form</field>
    </record>

    <!-- <menuitem  id="um_department_migration_view__info_menu" name="Migration" action="um_department_migration_view_recored_id"/> -->



     <!-- pop up window for register payment in student.account  -->
     <record id="um_department_migration_course_select" model="ir.ui.view">
        <field name="name">department.migration.form</field>
        <field name="model">department.migration</field>
        <field name="arch" type="xml">
        <form string="Course Selection">
        
            <sheet>

                <group string="Student Information">
                    <group>
                        <field name="name" readonly='1' style="font-size: 14px; color: #336699; background-color: #f0f0f0;"/>
                        <field name="student_new_id" readonly='1' style="font-size: 14px; color: #336699; background-color: #f0f0f0;"/>
                    </group>
                    <group>
                        <field name="accepted_faculty" string="Faculty" readonly='1' style="font-size: 14px; color: #336699; background-color: #f0f0f0;"/>
                        <field name="accepted_department" string="Department" readonly='1' style="font-size: 14px; color: #336699; background-color: #f0f0f0;"/>
                    </group>
                </group>        
                
                <group string="Course Selection Panel">
                    <field name="course_ids" display_name='True' widget="many2many_tags" options="{'no_create':True}" string="select course"/>
                    
                </group>

                <notebook>
                    <page string="Selected Courses">
                        <group>
                            <field name='course_ids' options="{'no_create': True, 'create': false}" string=""/>
                        
                        </group>

                        <group col="2">
                            <group></group>
                            <group><field name='course_cost' string='Total Cost' style="font-size: 14px; color: #336699; background-color: #f0f0f0;"/> </group>
                        </group>


                    </page>


                </notebook>


            </sheet>
            
           


        <footer>
            <button string="Confirm" name="confirm_course_selection" type="object" class="oe_highlight" data-hotkey="q"/>
            <button string="Cancel" class="btn btn-secondary" special="cancel" data-hotkey="z"/>
        </footer>


        

</form> 
</field>
</record> 






</odoo>
