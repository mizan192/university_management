<?xml version="1.0" encoding="utf-8"?>

<odoo>

    

    <!-- account view  -->

    <record id="um_students_account_tree_view" model="ir.ui.view">
        <field name="name">student.account.model.tree</field>
        <field name="model">student.account</field>
        <field name="arch" type="xml">
           <tree>
                <field name="name" decoration-success="1==1"/>      
                <field name="student_id" decoration-info="1==1"/>      
                 <field name='department' decoration-primary="1==1"/>
                 <field name='fee' decoration-warning="1==1"/>
                 <field name='fee_received' decoration-success="1==1"/>
                 <field name='due_date' decoration-danger="1==1"/>
                 <field name="invoice_status" widget="badge" decoration-success="invoice_status == 'Paid'" decoration-danger="invoice_status=='Unpaid'" decoration-warning="invoice_status=='Posted'" decoration-info="invoice_status == 'Draft'"/>
            </tree> 
        </field>
    </record>



         <!-- kanban view  -->
 <record id="um_account_model_kanban_view" model="ir.ui.view">
    <field name="name">student.account.kanban</field>
    <field name="model">student.account</field>
    <field name="arch" type="xml">
        <kanban>

            <field name="name"/>
            <field name="student_id"/>

            <field name="total_fee"/>
            <field name="scholarship"/>

            <field name="due_date"/>
            <field name="invoice_status"/>

            <templates>

                <t t-name="kanban-box">
                    <div t-attf-class="oe_kanban_content o_kanban_record_has_image_fill  ">
                        
                        <!-- <field name="image" class="o_kanban_image_fill_left d-block oe_kanban_avatar" preview_image="image" widget="background_image" options="{'zoom': true, 'zoom_delay': 1000}"/> -->
                    
                    
                    <div class="card d-flex flex-column justify-content-center" style="">
                        

                        <div class="card-header" style="margin:0; padding-left:1; padding-right:1; padding-top:0; padding-bottom:0;">
                            <h5 class="card-title" style="margin-bottom:0; padding:0; color: #009688; "><field name="name"/></h5>
                            <p class="card-text" style="margin-bottom:0; padding:0; color: #728C00;"><strong>ID:</strong> <field name="student_id"/></p>
                        </div>
                        
                     
                        <div class="card-footer text-muted " style="margin:0; padding-left:1; padding-right:1; padding-top:1px; padding-bottom:0;">
                            <p class="card-text" style="margin-bottom:0; padding:0; color: #36013F;"><strong>Scholarship:</strong> <field name="scholarship"/><span>tk</span></p>
                            <p class="card-text" style="margin-bottom:0; padding:0; color: #36013F;"><strong>Due:</strong> <field name="total_fee"/><span>tk</span></p>
    
                        </div>

                        <div class="card-body " style="margin:0; padding-left:1; padding-right:1; padding-top:1px; padding-bottom:0; background-color: #e0e0e0; ">
                            <p class="card-text" style="margin-bottom:0; padding:0; color: #007bff;"><strong>Invoice Status:</strong> <field name="invoice_status"/></p>
                            <p class="card-text" style="margin-bottom:0; padding:0; color: #e91e63;"><strong>Due Date:</strong> <field name="due_date"/></p>
                        </div>




                    </div>


                    </div>
                </t>
        
        
            </templates>

        
        
        </kanban>

    </field>
</record>






    <record id="um_students_accountsss_viewss" model="ir.actions.act_window">
        <field name="name">student.account.view</field>
        <field name="res_model">student.account</field>
        <field name="view_mode">tree,kanban,form</field>
    </record> 

    <!-- <menuitem  id="accounts_view_menu_id" name="Accounts" action="um_students_accountsss_viewss"/> -->























    <record id="students_accounts_fees_calculation_views" model="ir.ui.view">
        <field name="name">student.account.view</field>
        <field name="model">student.account</field>
        <field name="arch" type="xml">
           <form>

            <header>
                <button string='Confirm' type='object' name='confirm_fee' class="oe_highlight" attrs="{'invisible':[('ready_to_invoiced', '==', False)]}" />
               
                <button string='Register Payment' type='object' name='register_payment_method_action' class="oe_highlight" attrs="{'invisible':[('show_button', '==', False)]}" />
                
             
                    <!-- <button
                        name="register_payment_method_action"
                        type="object"
                        class="oe_stat_button oe_highlight o_button_custom_style">
                        <div class="o_field_widget o_stat_info" style="height:12px; font-size:8px;">
                            <span style="font-size:10px; padding:0; margin:0;" class="o_stat_text">Register Payment</span><br/>
                            <span style="font-size:8px; padding:0; margin:0;" class="o_stat_text"><field name='fee_received' /></span>
                        </div>    
                    </button> -->

                    <!-- state  -->
                    <field name="invoice_status" widget="statusbar" statusbar_visible="Draft,Posted,Unpaid,Paid"/>
                

            </header>


                <sheet>

                    <!-- smart button for transaction preview  -->
                    <div name="button_box" position="inside">
                        <button name="smart_button_transaction_list_preview" type="object" class="oe_stat_button" icon="fa-pencil-square-o">
                            <field name="fee_received"  widget="statinfo" string="Received Fee"/>
                        </button>
                    </div>


                    <widget name="web_ribbon" title="Paid" attrs="{'invisible': [('invoice_status', '!=', 'Paid')]}"/>
                




                    <group string='Student Details'>
                        <group>
                            <field name='name' readonly='1' style="font-size: 14px; color: #336699; background-color: #f0f0f0;"/>
                            <field name='student_id' readonly='1' style="font-size: 14px; color: #336699; background-color: #f0f0f0;"/>
                        </group>
                        <group>
                            <field name='faculty' readonly='1' style="font-size: 14px; color: #336699; background-color: #f0f0f0;"/>
                            <field name='department' readonly='1' style="font-size: 14px; color: #336699; background-color: #f0f0f0;"/>
                        </group>
                    </group>

                    <group string='Payment Details' col='3'>
                        <group ><field name='invoice_date' style="font-size: 14px; color: #336699; background-color: #f0f0f0;" /></group>
                        <group><field name='due_date' style="font-size: 14px; color: #336699; background-color: #f0f0f0;"/></group>
                        <group>
                            <field name='ready_to_invoiced' invisible='1'/> 
                            <field name='currency_id' invisible='1'/>
                            <field name='show_button' invisible='1'/>
                        </group>
                    </group>


                    <!-- <div style="flex: center;"> -->
                    <group string='Fee Details'  style="color: black; font-weight: bold;"  >
            
                        <group >
                            <separator/>
                            <field name='journal_id' style="font-size: 14px; color: #336699; background-color: #f0f0f0;" readonly='1'/>
                            <field name='transaction_id' style="font-size: 14px; color: #336699; background-color: #f0f0f0;" readonly='1'/>
                        </group>
                        
                        <group >  
                        <field name='admission_fee' class="oe_inline oe_right" style="font-size: 14px; color: #336699; background-color: #f0f0f0;"/>
                        <field name='registration_fee' class="oe_inline oe_right" style="font-size: 14px; color: #336699; background-color: #f0f0f0;"/>
                        <field name='department_fee' class="oe_inline oe_right" style="font-size: 14px; color: #336699; background-color: #f0f0f0;"/>
                        <field name='course_fee' readonly='1' class="oe_inline oe_right" style="font-size: 14px; color: #336699; background-color: #f0f0f0;"/>
                        <field name='fine' readonly='1' class="oe_inline oe_right" style="font-size: 14px; color: #336699; background-color: #f0f0f0;"/>
                        <field name='scholarship' readonly='1' class="oe_inline oe_right" style="font-size: 14px; color: #336699; background-color: #f0f0f0;"/>
                        </group>

                        
                    </group>




                    <!-- class="oe_inline oe_center" -->
                <!-- </div> -->

                    <group style="float: right;">
                        
                        <field name='fee' string='Total Fee' style="font-weight: bold; font-size: 14px; color: #336699; background-color: #f0f0f0;"/>
                        
                    </group>
               

                </sheet>
 
            </form> 
        </field>
    </record> 




    <!-- pop up window for register payment in student.account  -->
    <record id="um_accounts_fees_registration_views" model="ir.ui.view">
        <field name="name">student.account.view</field>
        <field name="model">student.account</field>
        <field name="arch" type="xml">
        <form string="Register Payment">
        
        <group>

            <group>
                <field name='journal_id' style="font-size: 14px; color: #336699; background-color: #f0f0f0;"/>
                <field name='amount_paid' style="font-size: 14px; color: #336699; background-color: #f0f0f0;" required='1'/>
                <field name='payment_date' style="font-size: 14px; color: #336699; background-color: #f0f0f0;"/>
            </group>

            <group>
                <field name='record_id' style="font-size: 14px; color: #336699; background-color: #f0f0f0;" readonly='1'/>
                <field name='transaction_id' style="font-size: 14px; color: #336699; background-color: #f0f0f0;" required='1'/>
                <field name='payment_phone_num' style="font-size: 14px; color: #336699; background-color: #f0f0f0;"/>
                <field name='currency_id' invisible='1'/>
            </group>


        </group>


        <footer>
            <button string="Create Payment" name="create_payments" type="object" class="oe_highlight" data-hotkey="q"/>
            <button string="Cancel" class="btn btn-secondary" special="cancel" data-hotkey="z"/>
        </footer>


        

</form> 
</field>
</record> 










    <!-- <record id="um_students_accounts_calculation_view_record" model="ir.actions.act_window">
        <field name="name">student.account.view</field>
        <field name="res_model">student.account</field>
        <field name="view_mode">form</field>
    </record>  -->

</odoo>
